# SPDX-License-Identifier: GPL-2.0-only OR GPL-3.0-only OR LicenseRef-KDE-Accepted-GPL
# SPDX-FileCopyrightText: 2025 Nate Graham <nate@kde.org>
# SPDX-FileCopyrightText: 2025 Thomas Duckworth <tduck@filotimoproject.org>

# With fast RAM-backed swap (zram), tell the kernel it's faster than I/O so it
# doesn't use slower file pages as often
vm.swappiness = 180
# Read-ahead is unneeded with zram
vm.page-cluster = 0
# Defragging is unneeded with zram
vm.watermark_boost_factor = 0
# Make kswapd more aggressive because zram is cheap
vm.watermark_scale_factor = 125
# Not needed for us; disabling it increases speed and reduces power consumption
kernel.nmi_watchdog = 0
# Ensure that applications don't break/complain from hitting the limit
fs.inotify.max_user_instances = 8192
fs.inotify.max_user_watches = 524288
